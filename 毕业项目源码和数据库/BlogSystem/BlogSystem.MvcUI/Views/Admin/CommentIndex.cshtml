@using BlogSystem.Models;
@using BlogSystem.Dto
@using PagedList.Mvc
@model PagedList.IPagedList<CommentDto>
@{
    ViewBag.Title = "CommentIndex";
    Layout = "~/Views/Shared/_LayoutBack.cshtml";
}
@*@model List<BlogSystem.Dto.CommentDto>*@
<link href="~/Content/PagedList.css" rel="stylesheet" />
<style>
    .btn1 {
        background-color: #FF5722;
        display: inline-block;
        height: 38px;
        line-height: 38px;
        padding: 0 18px;
        font-family: "微软雅黑";
        -webkit-transition: all .3s;
        color: #FFF;
        white-space: nowrap;
        text-align: center;
        font-size: 14px;
        border: none;
        border-radius: 2px;
        cursor: pointer;
    }
</style>
<div class="result-wrap">
    <form method="post">
        <input type="text" name="nickname" value="@ViewBag.nickname" placeholder="输入用户" style="height: 32px; width: 220px; border-radius: 3px; border: 1px solid burlywood">
        <input type="text" name="title" value="@ViewBag.titles" placeholder="输入文章" style="height: 32px; width: 220px; border-radius: 3px; border: 1px solid burlywood">
        <input type="submit" name="name" value="搜索" class="btn1" />
    </form>
    <br />

    <div class="result-content">
        <table class="result-tab" width="100%">
            <tr>
                <th class="tc" width="5%"><input type="checkbox" class="allChoose"/></th>
                <th>用户</th>
                <th>评论内容</th>
                <th>评论文章</th>
                <th>评论时间</th>
                <th>操作</th>
            </tr>
            @foreach (var item in Model)
            {
                var title = item.Title;
                if (title.Length > 15)
                {
                    title = title.Substring(0, 15);
                }
                <tr>
                    <td class="tc"><input name="id[]" type="checkbox" class="singleChoose"></td>
                    <td>@item.NickName</td>
                    <td>@item.Content</td>
                    <td>@title</td>
                    <td>@item.CreateTime</td>
                    <td>
                        <a class="link-update" onclick="updateLayer('')">修改</a>
                        <a class="link-del" onclick="user_del('', this)">删除</a>
                    </td>
                </tr>
            }
        </table>
        <div class="list-page">

            每页 @Model.PageSize 条记录，共 @Model.PageCount 页，当前第 @Model.PageNumber 页
            @Html.PagedListPager(Model, page => Url.Action("CommentIndex", new {page}))
        </div>
    </div>
</div>

